{% extends "base.html" %}

{% block title %}ARMind CVs - Optimiza tu Currículum con IA{% endblock %}

{% block content %}
<div class="container">
    <!-- Hero Section -->
    <div class="row align-items-center mb-5 editable-card position-relative" style="min-height: 70vh;">
        {% if session.user_role == 'admin' %}
        <div class="section-edit-pencil" onclick="openEditModal('welcome_section', 'Sección: Bienvenida Principal', {
            title: 'Optimiza tu Currículum con Inteligencia Artificial',
            description: 'ARMind CVs es una plataforma de análisis de currículums impulsada por IA para equipos de desarrollo ocupados.'
        })">
            <i class="fas fa-pencil-alt"></i>
        </div>
        {% endif %}
        <div class="col-lg-6">
            <h1 class="display-3 fw-bold mb-4" style="color: #1a365d; line-height: 1.2; font-weight: 700;">
                Optimiza tu Currículum con <span style="color: #00d4ff;">Inteligencia Artificial</span>
            </h1>
            <p class="lead mb-5" style="color: #4a5568; font-size: 1.25rem; line-height: 1.6;">
                ARMind CVs es una plataforma de análisis de currículums impulsada por IA para equipos de desarrollo ocupados.
            </p>
            <div class="d-flex gap-3">
                {% if not session.user_id %}
                <a href="{{ url_for('register') }}" class="btn btn-primary btn-lg">
                    COMENZAR
                </a>
                <a href="{{ url_for('login') }}" class="btn btn-outline-primary btn-lg">
                    DOCUMENTACIÓN
                </a>
                {% else %}
                <a href="{{ url_for('dashboard') }}" class="btn btn-primary btn-lg">
                    IR AL DASHBOARD
                </a>
                {% endif %}
            </div>
        </div>
        <div class="col-lg-6 text-center">
            <div class="position-relative">
                <svg width="400" height="300" viewBox="0 0 400 300" class="img-fluid">
                    <!-- CV Document -->
                    <rect x="50" y="50" width="200" height="250" rx="10" fill="#ffffff" stroke="#3498db" stroke-width="2"/>
                    <rect x="70" y="70" width="160" height="20" rx="5" fill="#3498db"/>
                    <rect x="70" y="100" width="120" height="8" rx="4" fill="#ecf0f1"/>
                    <rect x="70" y="115" width="140" height="8" rx="4" fill="#ecf0f1"/>
                    <rect x="70" y="130" width="100" height="8" rx="4" fill="#ecf0f1"/>
                    
                    <!-- AI Brain -->
                    <circle cx="320" cy="120" r="40" fill="#e74c3c"/>
                    <circle cx="310" cy="110" r="8" fill="#ffffff"/>
                    <circle cx="330" cy="110" r="8" fill="#ffffff"/>
                    <path d="M300 130 Q320 140 340 130" stroke="#ffffff" stroke-width="3" fill="none"/>
                    
                    <!-- Connection Lines -->
                    <path d="M250 150 Q280 140 280 120" stroke="#f39c12" stroke-width="3" fill="none" stroke-dasharray="5,5">
                        <animate attributeName="stroke-dashoffset" values="0;10" dur="1s" repeatCount="indefinite"/>
                    </path>
                    
                    <!-- Results -->
                    <rect x="280" y="200" width="80" height="60" rx="8" fill="#27ae60"/>
                    <text x="320" y="220" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">95%</text>
                    <text x="320" y="235" text-anchor="middle" fill="#ffffff" font-size="10">Score</text>
                    <text x="320" y="250" text-anchor="middle" fill="#ffffff" font-size="8">Excelente</text>
                </svg>
            </div>
        </div>
    </div>
    
    <!-- Features Section -->
    <div class="row mb-5" style="margin-top: 8rem;">
        <div class="col-12 text-center mb-5">
            <h2 class="fw-bold mb-3" style="color: #1a365d; font-size: 2.5rem;">¿Por qué elegir ARMind CVs?</h2>
            <p class="text-muted" style="font-size: 1.1rem; color: #718096;">Herramientas profesionales para impulsar tu carrera</p>
        </div>
        
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 border-0 editable-card position-relative" style="padding: 2rem;">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('feature_ai', 'Característica: Análisis con IA', {
                    title: 'Análisis con IA',
                    description: 'Nuestro sistema de IA analiza tu CV como lo haría un ATS real, proporcionando puntuaciones y recomendaciones precisas.',
                    icon: 'fas fa-robot',
                    icon_color: '#00d4ff'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <div class="card-body text-center">
                    <div class="mb-4">
                        <i class="fas fa-robot" style="font-size: 3rem; color: #00d4ff;"></i>
                    </div>
                    <h5 class="card-title fw-bold mb-3" style="color: #1a365d;">Análisis con IA</h5>
                    <p class="card-text" style="color: #718096; line-height: 1.6;">
                        Nuestro sistema de IA analiza tu CV como lo haría un ATS real, 
                        proporcionando puntuaciones y recomendaciones precisas.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 border-0 editable-card position-relative" style="padding: 2rem;">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('feature_builder', 'Característica: Constructor de CV', {
                    title: 'Constructor de CV',
                    description: 'Crea currículums profesionales en formato Harvard con nuestro constructor guiado paso a paso.',
                    icon: 'fas fa-file-alt',
                    icon_color: '#00d4ff'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <div class="card-body text-center">
                    <div class="mb-4">
                        <i class="fas fa-file-alt" style="font-size: 3rem; color: #00d4ff;"></i>
                    </div>
                    <h5 class="card-title fw-bold mb-3" style="color: #1a365d;">Constructor de CV</h5>
                    <p class="card-text" style="color: #718096; line-height: 1.6;">
                        Crea currículums profesionales en formato Harvard con nuestro 
                        constructor guiado paso a paso.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 border-0 editable-card position-relative" style="padding: 2rem;">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('feature_search', 'Característica: Búsqueda de Empleos', {
                    title: 'Búsqueda de Empleos',
                    description: 'Encuentra oportunidades laborales relevantes en múltiples plataformas con nuestro motor de búsqueda inteligente.',
                    icon: 'fas fa-search',
                    icon_color: '#00d4ff'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <div class="card-body text-center">
                    <div class="mb-4">
                        <i class="fas fa-search" style="font-size: 3rem; color: #00d4ff;"></i>
                    </div>
                    <h5 class="card-title fw-bold mb-3" style="color: #1a365d;">Búsqueda de Empleos</h5>
                    <p class="card-text" style="color: #718096; line-height: 1.6;">
                        Encuentra oportunidades laborales relevantes en múltiples 
                        plataformas con nuestro motor de búsqueda inteligente.
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- How it Works Section -->
    <div class="row mb-5 editable-card position-relative">
        {% if session.user_role == 'admin' %}
        <div class="section-edit-pencil" onclick="openEditModal('how_it_works_section', 'Sección: Cómo Funciona', {
            title: '¿Cómo funciona?',
            description: 'Proceso de tres pasos para optimizar tu CV'
        })">
            <i class="fas fa-pencil-alt"></i>
        </div>
        {% endif %}
        <div class="col-12 text-center mb-5">
            <h2 class="display-5 fw-bold">¿Cómo funciona?</h2>
            <p class="lead text-muted">Tres simples pasos para optimizar tu currículum</p>
        </div>
        
        <div class="col-lg-4 text-center mb-4">
            <div class="position-relative editable-card">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('step_1', 'Paso 1: Sube tu CV', {
                    title: 'Sube tu CV',
                    description: 'Carga tu currículum en formato PDF o Word. Nuestro sistema extraerá automáticamente toda la información.',
                    step_number: '1'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center" 
                     style="width: 80px; height: 80px; font-size: 2rem; font-weight: bold;">1</div>
                <h4 class="mt-3">Sube tu CV</h4>
                <p class="text-muted">
                    Carga tu currículum en formato PDF o Word. 
                    Nuestro sistema extraerá automáticamente toda la información.
                </p>
            </div>
        </div>
        
        <div class="col-lg-4 text-center mb-4">
            <div class="position-relative editable-card">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('step_2', 'Paso 2: Análisis IA', {
                    title: 'Análisis IA',
                    description: 'Nuestra IA analiza tu CV como un sistema ATS profesional, evaluando cada sección y palabra clave.',
                    step_number: '2'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <div class="bg-secondary text-white rounded-circle d-inline-flex align-items-center justify-content-center" 
                     style="width: 80px; height: 80px; font-size: 2rem; font-weight: bold;">2</div>
                <h4 class="mt-3">Análisis IA</h4>
                <p class="text-muted">
                    Nuestra IA analiza tu CV como un sistema ATS profesional, 
                    evaluando cada sección y palabra clave.
                </p>
            </div>
        </div>
        
        <div class="col-lg-4 text-center mb-4">
            <div class="position-relative editable-card">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('step_3', 'Paso 3: Mejora y Aplica', {
                    title: 'Mejora y Aplica',
                    description: 'Recibe recomendaciones específicas, mejora tu CV y encuentra empleos que se ajusten a tu perfil.',
                    step_number: '3'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <div class="bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center" 
                     style="width: 80px; height: 80px; font-size: 2rem; font-weight: bold;">3</div>
                <h4 class="mt-3">Mejora y Aplica</h4>
                <p class="text-muted">
                    Recibe recomendaciones específicas, mejora tu CV y 
                    encuentra empleos que se ajusten a tu perfil.
                </p>
            </div>
        </div>
    </div>
    
    <!-- Stats Section -->
    <div class="row text-center mb-5 editable-card position-relative" style="margin-top: 8rem; padding: 4rem 0; background: rgba(230, 243, 255, 0.3); border-radius: 16px;">
        {% if session.user_role == 'admin' %}
        <div class="section-edit-pencil" onclick="openEditModal('stats_section', 'Sección: Estadísticas', {
            title: 'Resultados que Hablan por Sí Solos',
            description: 'Miles de profesionales ya han mejorado sus CVs con ARMind'
        })">
            <i class="fas fa-pencil-alt"></i>
        </div>
        {% endif %}
        <div class="col-12 mb-5">
            <h2 class="fw-bold" style="color: #1a365d; font-size: 2.5rem;">Resultados que Hablan por Sí Solos</h2>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="text-center editable-card position-relative">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('stat_1', 'Estadística: Precisión ATS', {
                    title: 'Precisión en análisis ATS',
                    stat_value: '95%',
                    description: 'Precisión en análisis ATS'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <h3 class="fw-bold mb-2" style="color: #00d4ff; font-size: 3rem;">95%</h3>
                <p style="color: #718096; font-size: 1rem;">Precisión en análisis ATS</p>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="text-center editable-card position-relative">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('stat_2', 'Estadística: CVs Analizados', {
                    title: 'CVs analizados',
                    stat_value: '10K+',
                    description: 'CVs analizados'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <h3 class="fw-bold mb-2" style="color: #00d4ff; font-size: 3rem;">10K+</h3>
                <p style="color: #718096; font-size: 1rem;">CVs analizados</p>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="text-center editable-card position-relative">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('stat_3', 'Estadística: Mejora en entrevistas', {
                    title: 'Mejora en entrevistas',
                    stat_value: '85%',
                    description: 'Mejora en entrevistas'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <h3 class="fw-bold mb-2" style="color: #00d4ff; font-size: 3rem;">85%</h3>
                <p style="color: #718096; font-size: 1rem;">Mejora en entrevistas</p>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="text-center editable-card position-relative">
                {% if session.user_role == 'admin' %}
                <div class="card-edit-pencil" onclick="openEditModal('stat_4', 'Estadística: Disponibilidad', {
                    title: 'Disponibilidad',
                    stat_value: '24/7',
                    description: 'Disponibilidad'
                })">
                    <i class="fas fa-pencil-alt"></i>
                </div>
                {% endif %}
                <h3 class="fw-bold mb-2" style="color: #00d4ff; font-size: 3rem;">24/7</h3>
                <p style="color: #718096; font-size: 1rem;">Disponibilidad</p>
            </div>
        </div>
    </div>
    
    <!-- CTA Section -->
    <div class="row text-center py-5 editable-card position-relative" style="background: linear-gradient(135deg, #1a365d 0%, #2d5a87 100%); border-radius: 20px; margin: 4rem 0;">
        {% if session.user_role == 'admin' %}
        <div class="section-edit-pencil" onclick="openEditModal('cta_section', 'Sección: Llamada a la Acción', {
            title: '¿Listo para Optimizar tu CV?',
            description: 'Únete a miles de profesionales que ya han mejorado sus oportunidades laborales',
            button1_text: 'Analizar mi CV Gratis',
            button1_icon: 'fas fa-upload',
            button2_text: 'Crear Cuenta',
            button2_icon: 'fas fa-user-plus'
        })">
            <i class="fas fa-pencil-alt"></i>
        </div>
        {% endif %}
        <div class="col-12">
            <h2 class="fw-bold text-white mb-4" style="font-size: 2.5rem;">¿Listo para Optimizar tu CV?</h2>
            <p class="text-white-50 mb-5" style="font-size: 1.2rem;">Únete a miles de profesionales que ya han mejorado sus oportunidades laborales</p>
            <div class="d-flex flex-column flex-md-row gap-3 justify-content-center">
                <a href="{{ url_for('analyze_cv') }}" class="btn btn-lg px-5 py-3" 
                   style="background: #00d4ff; color: #1a365d; border: none; border-radius: 50px; font-weight: 600; font-size: 1.1rem;">
                    <i class="fas fa-upload me-2"></i>Analizar mi CV
                </a>
                <a href="{{ url_for('register') }}" class="btn btn-outline-light btn-lg px-5 py-3" 
                   style="border: 2px solid #00d4ff; color: #00d4ff; border-radius: 50px; font-weight: 600; font-size: 1.1rem;">
                    <i class="fas fa-user-plus me-2"></i>Crear Cuenta
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid rgba(0, 0, 0, 0.08);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }
    
    .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    }
    
    .btn {
        transition: all 0.3s ease;
    }
    
    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
    }
    
    /* Estilos para edición */
    .editable-card {
        position: relative;
    }
    
    .card-edit-pencil, .section-edit-pencil {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 212, 255, 0.9);
        color: white;
        border: none;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10;
        opacity: 0;
        transition: all 0.3s ease;
        font-size: 14px;
    }
    
    .editable-card:hover .card-edit-pencil,
    .editable-card:hover .section-edit-pencil {
        opacity: 1;
    }
    
    .card-edit-pencil:hover, .section-edit-pencil:hover {
        background: rgba(0, 212, 255, 1);
        transform: scale(1.1);
    }
    
    .success-message {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #28a745;
        color: white;
        padding: 15px 20px;
        border-radius: 5px;
        z-index: 1000;
        display: none;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
        
        // Animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Observe all cards
        document.querySelectorAll('.card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    });
    
    // Función para abrir el modal de edición
    function openEditModal(elementId, title, data) {
        document.getElementById('editModalLabel').textContent = title;
        document.getElementById('editElementId').value = elementId;
        
        // Llenar los campos del modal con los datos actuales
        document.getElementById('editTitle').value = data.title || '';
        document.getElementById('editDescription').value = data.description || '';
        document.getElementById('editIcon').value = data.icon || '';
        document.getElementById('editIconColor').value = data.icon_color || '#00d4ff';
        document.getElementById('editButtonText').value = data.button_text || '';
        document.getElementById('editButtonIcon').value = data.button_icon || '';
        document.getElementById('editStatValue').value = data.stat_value || '';
        document.getElementById('editStepNumber').value = data.step_number || '';
        document.getElementById('editButton1Text').value = data.button1_text || '';
        document.getElementById('editButton1Icon').value = data.button1_icon || '';
        document.getElementById('editButton2Text').value = data.button2_text || '';
        document.getElementById('editButton2Icon').value = data.button2_icon || '';
        
        // Mostrar/ocultar campos según el tipo de elemento
        const iconFields = document.getElementById('iconFields');
        const buttonFields = document.getElementById('buttonFields');
        const statFields = document.getElementById('statFields');
        const stepFields = document.getElementById('stepFields');
        const ctaFields = document.getElementById('ctaFields');
        
        // Ocultar todos los campos específicos
        iconFields.style.display = 'none';
        buttonFields.style.display = 'none';
        statFields.style.display = 'none';
        stepFields.style.display = 'none';
        ctaFields.style.display = 'none';
        
        // Mostrar campos relevantes según el tipo
        if (data.icon) {
            iconFields.style.display = 'block';
        }
        if (data.button_text) {
            buttonFields.style.display = 'block';
        }
        if (data.stat_value) {
            statFields.style.display = 'block';
        }
        if (data.step_number) {
            stepFields.style.display = 'block';
        }
        if (data.button1_text || data.button2_text) {
            ctaFields.style.display = 'block';
        }
        
        // Mostrar el modal
        const modal = new bootstrap.Modal(document.getElementById('editModal'));
        modal.show();
    }
    
    // Función para guardar los cambios
    function saveCardEdit() {
        const elementId = document.getElementById('editElementId').value;
        const title = document.getElementById('editTitle').value;
        const description = document.getElementById('editDescription').value;
        const icon = document.getElementById('editIcon').value;
        const iconColor = document.getElementById('editIconColor').value;
        const buttonText = document.getElementById('editButtonText').value;
        const buttonIcon = document.getElementById('editButtonIcon').value;
        const statValue = document.getElementById('editStatValue').value;
        const stepNumber = document.getElementById('editStepNumber').value;
        const button1Text = document.getElementById('editButton1Text').value;
        const button1Icon = document.getElementById('editButton1Icon').value;
        const button2Text = document.getElementById('editButton2Text').value;
        const button2Icon = document.getElementById('editButton2Icon').value;
        
        const data = {
            element_id: elementId,
            title: title,
            description: description,
            icon: icon,
            icon_color: iconColor,
            button_text: buttonText,
            button_icon: buttonIcon,
            stat_value: statValue,
            step_number: stepNumber,
            button1_text: button1Text,
            button1_icon: button1Icon,
            button2_text: button2Text,
            button2_icon: button2Icon
        };
        
        fetch('/admin/update_content', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Cerrar el modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('editModal'));
                modal.hide();
                
                // Mostrar mensaje de éxito
                showSuccessMessage('Contenido actualizado exitosamente');
                
                // Recargar la página después de un breve delay
                setTimeout(() => {
                    location.reload();
                }, 1500);
            } else {
                alert('Error al actualizar el contenido: ' + (data.error || 'Error desconocido'));
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Error al actualizar el contenido');
        });
    }
    
    // Función para mostrar mensaje de éxito
    function showSuccessMessage(message) {
        const successDiv = document.createElement('div');
        successDiv.className = 'success-message';
        successDiv.textContent = message;
        successDiv.style.display = 'block';
        document.body.appendChild(successDiv);
        
        setTimeout(() => {
            successDiv.style.display = 'none';
            document.body.removeChild(successDiv);
        }, 3000);
    }
</script>

<!-- Modal de Edición -->
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Editar Contenido</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editElementId" name="element_id">
                
                <div class="mb-3">
                    <label for="editTitle" class="form-label">Título</label>
                    <input type="text" class="form-control" id="editTitle" name="title">
                </div>
                
                <div class="mb-3">
                    <label for="editDescription" class="form-label">Descripción</label>
                    <textarea class="form-control" id="editDescription" name="description" rows="3"></textarea>
                </div>
                
                <div id="iconFields" style="display: none;">
                    <div class="mb-3">
                        <label for="editIcon" class="form-label">Icono (clase CSS)</label>
                        <input type="text" class="form-control" id="editIcon" name="icon" placeholder="fas fa-robot">
                    </div>
                    
                    <div class="mb-3">
                        <label for="editIconColor" class="form-label">Color del Icono</label>
                        <input type="color" class="form-control" id="editIconColor" name="icon_color">
                    </div>
                </div>
                
                <div id="buttonFields" style="display: none;">
                    <div class="mb-3">
                        <label for="editButtonText" class="form-label">Texto del Botón</label>
                        <input type="text" class="form-control" id="editButtonText" name="button_text">
                    </div>
                    
                    <div class="mb-3">
                        <label for="editButtonIcon" class="form-label">Icono del Botón</label>
                        <input type="text" class="form-control" id="editButtonIcon" name="button_icon" placeholder="fas fa-arrow-right">
                    </div>
                </div>
                
                <div id="statFields" style="display: none;">
                    <div class="mb-3">
                        <label for="editStatValue" class="form-label">Valor de Estadística</label>
                        <input type="text" class="form-control" id="editStatValue" name="stat_value" placeholder="95%">
                    </div>
                </div>
                
                <div id="stepFields" style="display: none;">
                    <div class="mb-3">
                        <label for="editStepNumber" class="form-label">Número de Paso</label>
                        <input type="text" class="form-control" id="editStepNumber" name="step_number" placeholder="1">
                    </div>
                </div>
                
                <div id="ctaFields" style="display: none;">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="editButton1Text" class="form-label">Texto Botón 1</label>
                                <input type="text" class="form-control" id="editButton1Text" name="button1_text">
                            </div>
                            <div class="mb-3">
                                <label for="editButton1Icon" class="form-label">Icono Botón 1</label>
                                <input type="text" class="form-control" id="editButton1Icon" name="button1_icon">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="editButton2Text" class="form-label">Texto Botón 2</label>
                                <input type="text" class="form-control" id="editButton2Text" name="button2_text">
                            </div>
                            <div class="mb-3">
                                <label for="editButton2Icon" class="form-label">Icono Botón 2</label>
                                <input type="text" class="form-control" id="editButton2Icon" name="button2_icon">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="saveCardEdit()">Guardar Cambios</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}