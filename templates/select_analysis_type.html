{% extends "base.html" %}

{% block title %}Tipo de Análisis - ARMindCV{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-12 mb-4">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h2 class="fw-bold mb-2">
                        <i class="fas fa-chart-line me-2 text-primary"></i>Seleccionar Tipo de Análisis
                    </h2>
                    <p class="text-muted mb-0">
                        Elige el tipo de análisis que deseas realizar con 
                        <span class="badge bg-primary">{{ ai_provider.title() }}</span>
                    </p>
                </div>
                <a href="{{ url_for('select_ai_provider') }}" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-2"></i>Cambiar IA
                </a>
            </div>
        </div>
    </div>
    
    <div class="row">
        <!-- Revisión general del estado del currículum -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('general_health_check')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-clipboard-check fa-2x text-primary"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Revisión general del estado del currículum</h5>
                    <p class="text-muted mb-3">Evaluar la ortografía, la gramática, el formato, la integridad de la sección y la longitud de currículum.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-spell-check me-2 text-success"></i>Revisión ortográfica</small>
                        <small class="d-block mb-1"><i class="fas fa-align-left me-2 text-success"></i>Análisis de formato</small>
                        <small class="d-block mb-1"><i class="fas fa-ruler me-2 text-success"></i>Evaluación de longitud</small>
                        <small class="d-block"><i class="fas fa-check-circle me-2 text-success"></i>Integridad de secciones</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Análisis de calidad del contenido -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('content_quality_analysis')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-file-alt fa-2x text-info"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Análisis de calidad del contenido</h5>
                    <p class="text-muted mb-3">Evaluar verbos de acción, logros cuantificables, claridad y lenguaje profesional.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-bolt me-2 text-success"></i>Verbos de acción</small>
                        <small class="d-block mb-1"><i class="fas fa-chart-bar me-2 text-success"></i>Logros cuantificables</small>
                        <small class="d-block mb-1"><i class="fas fa-eye me-2 text-success"></i>Claridad del mensaje</small>
                        <small class="d-block"><i class="fas fa-graduation-cap me-2 text-success"></i>Lenguaje profesional</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Adaptación de puestos de trabajo y optimización de palabras clave -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('job_tailoring_optimization')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-bullseye fa-2x text-warning"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Adaptación de puestos de trabajo y optimización de palabras clave</h5>
                    <p class="text-muted mb-3">Coincidir su currículum vitae a descripciones de trabajo específicas para una mejor inserción.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-crosshairs me-2 text-success"></i>Alineación con roles</small>
                        <small class="d-block mb-1"><i class="fas fa-key me-2 text-success"></i>Palabras clave relevantes</small>
                        <small class="d-block mb-1"><i class="fas fa-exchange-alt me-2 text-success"></i>Habilidades transferibles</small>
                        <small class="d-block"><i class="fas fa-edit me-2 text-success"></i>Personalización específica</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Verificación de compatibilidad de ATS -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('ats_compatibility_verification')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-robot fa-2x text-success"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Verificación de compatibilidad de ATS</h5>
                    <p class="text-muted mb-3">Asegúrese de que su currículum vitae pasa a través de los sistemas de seguimiento de solicitantes con éxito.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-cogs me-2 text-success"></i>Compatibilidad ATS</small>
                        <small class="d-block mb-1"><i class="fas fa-search me-2 text-success"></i>Palabras clave estándar</small>
                        <small class="d-block mb-1"><i class="fas fa-sitemap me-2 text-success"></i>Estructura de secciones</small>
                        <small class="d-block"><i class="fas fa-exclamation-triangle me-2 text-success"></i>Detección de problemas</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Evaluación de tonos y estilos -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('tone_style_evaluation')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-palette fa-2x text-purple"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Evaluación de tonos y estilos</h5>
                    <p class="text-muted mb-3">Analizar el tono profesional, la idoneidad del idioma y la legibilidad.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-microphone me-2 text-success"></i>Tono profesional</small>
                        <small class="d-block mb-1"><i class="fas fa-language me-2 text-success"></i>Idoneidad del idioma</small>
                        <small class="d-block mb-1"><i class="fas fa-book-open me-2 text-success"></i>Legibilidad</small>
                        <small class="d-block"><i class="fas fa-heart me-2 text-success"></i>Impacto emocional</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Retroalimentación específica de la industria y del rol -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('industry_role_feedback')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-industry fa-2x text-dark"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Retroalimentación específica de la industria y del rol</h5>
                    <p class="text-muted mb-3">Obtener asesoramiento personalizado basado en su industria y su rol.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-building me-2 text-success"></i>Relevancia industrial</small>
                        <small class="d-block mb-1"><i class="fas fa-user-tie me-2 text-success"></i>Competencias del rol</small>
                        <small class="d-block mb-1"><i class="fas fa-trending-up me-2 text-success"></i>Tendencias del mercado</small>
                        <small class="d-block"><i class="fas fa-lightbulb me-2 text-success"></i>Recomendaciones específicas</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Benchmarking y Comparación -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('benchmarking_comparison')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-chart-line fa-2x text-info"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Benchmarking y Comparación</h5>
                    <p class="text-muted mb-3">Compare su currículum con ejemplos exitosos en roles similares.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-balance-scale me-2 text-success"></i>Comparación con estándares</small>
                        <small class="d-block mb-1"><i class="fas fa-gap me-2 text-success"></i>Identificación de brechas</small>
                        <small class="d-block mb-1"><i class="fas fa-star me-2 text-success"></i>Mejores prácticas</small>
                        <small class="d-block"><i class="fas fa-trophy me-2 text-success"></i>Posicionamiento competitivo</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Sugerencias de mejora basadas en IA -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('ai_improvement_suggestions')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-brain fa-2x text-primary"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Sugerencias de mejora basadas en IA</h5>
                    <p class="text-muted mb-3">Obtener consejos de mejora de IA personalizadas para mejorar su currículum.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-magic me-2 text-success"></i>Sugerencias de IA</small>
                        <small class="d-block mb-1"><i class="fas fa-rocket me-2 text-success"></i>Optimizaciones avanzadas</small>
                        <small class="d-block mb-1"><i class="fas fa-clock me-2 text-success"></i>Tendencias actuales</small>
                        <small class="d-block"><i class="fas fa-gem me-2 text-success"></i>Diferenciación única</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Evaluación de diseño visual y maquetación -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card" onclick="selectAnalysis('visual_design_assessment')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-paint-brush fa-2x text-warning"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Evaluación de diseño visual y maquetación</h5>
                    <p class="text-muted mb-3">Evaluar el atractivo visual, la legibilidad y la presentación profesional.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-eye me-2 text-success"></i>Atractivo visual</small>
                        <small class="d-block mb-1"><i class="fas fa-text-height me-2 text-success"></i>Legibilidad</small>
                        <small class="d-block mb-1"><i class="fas fa-th-large me-2 text-success"></i>Organización espacial</small>
                        <small class="d-block"><i class="fas fa-award me-2 text-success"></i>Presentación profesional</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Puntuación completa del currículum -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 analysis-card border-primary" onclick="selectAnalysis('comprehensive_score')">
                <div class="card-body p-4">
                    <div class="analysis-icon mb-3">
                        <i class="fas fa-medal fa-2x text-gold"></i>
                    </div>
                    <h5 class="fw-bold mb-2 text-primary">Puntuación completa del currículum</h5>
                    <p class="text-muted mb-3">Recibir una puntuación general con desglose detallado y retroalimentación procesable.</p>
                    <div class="analysis-features">
                        <small class="d-block mb-1"><i class="fas fa-calculator me-2 text-success"></i>Puntuación detallada</small>
                        <small class="d-block mb-1"><i class="fas fa-chart-pie me-2 text-success"></i>Desglose por categorías</small>
                        <small class="d-block mb-1"><i class="fas fa-thumbs-up me-2 text-success"></i>Fortalezas principales</small>
                        <small class="d-block"><i class="fas fa-tasks me-2 text-success"></i>Plan de acción</small>
                    </div>
                    <div class="mt-3">
                        <span class="badge bg-warning text-dark">Recomendado</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.analysis-card {
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.analysis-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    border-color: var(--bs-primary);
}

.analysis-icon {
    transition: all 0.3s ease;
}

.analysis-card:hover .analysis-icon i {
    transform: scale(1.1);
}

.analysis-features small {
    font-size: 0.8rem;
    line-height: 1.4;
}

.text-purple {
    color: #6f42c1 !important;
}

.text-gold {
    color: #ffc107 !important;
}

.border-primary {
    border-color: var(--bs-primary) !important;
}

.card.border-primary {
    box-shadow: 0 4px 15px rgba(13, 110, 253, 0.15);
}
</style>

<script>
function selectAnalysis(analysisType) {
    // Agregar efecto visual de selección
    document.querySelectorAll('.analysis-card').forEach(card => {
        card.style.borderColor = 'transparent';
    });
    
    event.currentTarget.style.borderColor = 'var(--bs-primary)';
    
    // Mostrar loading
    const card = event.currentTarget;
    const originalContent = card.innerHTML;
    card.innerHTML = `
        <div class="card-body text-center p-4">
            <div class="spinner-border text-primary mb-3" role="status">
                <span class="visually-hidden">Cargando...</span>
            </div>
            <h5>Iniciando análisis...</h5>
            <p class="text-muted">Esto puede tomar unos momentos</p>
        </div>
    `;
    
    // Redirigir después de un breve delay
    setTimeout(() => {
        window.location.href = `/perform_analysis/${analysisType}`;
    }, 1000);
}
</script>
{% endblock %}